#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'nombus'

class App
  include Methadone::Main
  include Methadone::CLILogging

  main do
  end

  version Nombus::Version
  description 'Check if domain names are managed by Windermere DNS servers'
  options['separator'] = Nombus::DefaultSeparator
  on "-s SEPARATOR","--separator","Column separator for csv file"
  options['nameservers'] = Nombus::DefaultNameservers
  on "-n LIST", "--nameservers",	"The list of nameservers to query"
  on "--headers", "Whether the csv file has headers"
  arg :csv_file, "Path to a CSV file with a list of domain names"
  arg :output_file, :optional, "Path to the resulting CSV file, including only the domain names that are not managed by Windermere. If not specified then current working directory."
  use_log_level_option

  go!
end
